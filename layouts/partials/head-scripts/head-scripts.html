<!--Head Scripts Error Notices-->
{{- partial "head-scripts/error-notices/js-blocked.html" . }}

<!--Head Scripts PWA Service Worker Initializer - Used to Initialize Service Workers-->
{{- if ne hugo.Environment "production" }}{{- else}}
<script>
  if('serviceWorker' in navigator) {
      navigator.serviceWorker
          .register('/sw.js', { scope: '.' })
          .then(function(registration) {
              console.log('Service Worker Registered');
          });
      navigator.serviceWorker
          .ready
          .then(function(registration) {
              console.log('Service Worker Ready');
          });
}
</script>
{{end}}

<!--Head Scripts JQuery Callback - Used to initialize JQuery Library-->
<!--DEPRECATION NOTICE: Potential integration removal is planned-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Head Scripts URL Parameters Parser-->
<script>
    var urlParamValues = {};
    const urlParams = new URLSearchParams(window.location.search);
    for (const [key, value] of urlParams) {
        urlParamValues[key] = value;
    }
</script>

<!--Head Scripts Icon Fonts Assets Integration - Used to integrate Icon Fonts -->
{{- partial "head-scripts/iconFonts-integration.html" . }}  

<!--Head Scripts Flickity Carousel Library-->
<link rel="stylesheet" href="https://unpkg.com/flickity@3/dist/flickity.min.css">
<link rel="stylesheet" href="https://unpkg.com/flickity-fade@2/flickity-fade.css">
<script src="https://unpkg.com/flickity@3/dist/flickity.pkgd.min.js"></script>
<script src="https://unpkg.com/flickity-fade@2/flickity-fade.js"></script>
<script>
// https://github.com/metafizzy/flickity-fade/issues/13#issuecomment-758800627
Flickity.prototype.stopPlayer = function() {
  this.player.stop();
  // always resume play after 3 seconds
  setTimeout( () => {
    this.player.play();
  }, 3000 )
};
</script>